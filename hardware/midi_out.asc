Version 4
SHEET 1 1704 680
WIRE 1136 -336 1040 -336
WIRE 1040 -304 1040 -336
WIRE 1136 -288 1136 -336
WIRE 288 -208 160 -208
WIRE 400 -208 288 -208
WIRE 576 -208 480 -208
WIRE 160 -176 160 -208
WIRE 1040 -176 1040 -224
WIRE 1040 -176 1008 -176
WIRE 1040 -144 1040 -176
WIRE 576 -128 576 -208
WIRE 160 -48 160 -96
WIRE 1008 0 1008 -176
WIRE 1008 0 880 0
WIRE 576 16 576 -48
WIRE 672 16 576 16
WIRE 752 16 672 16
WIRE 672 32 672 16
WIRE 384 48 208 48
WIRE 1040 64 1040 -64
WIRE 1040 64 880 64
WIRE 288 80 288 -208
WIRE 752 80 720 80
WIRE 208 96 208 48
WIRE 256 96 208 96
WIRE 1040 96 880 96
WIRE 384 112 384 48
WIRE 384 112 320 112
WIRE 512 112 384 112
WIRE 672 112 672 96
WIRE 672 112 592 112
WIRE 720 112 720 80
WIRE 720 112 672 112
WIRE 256 128 160 128
WIRE 288 176 288 144
WIRE 1040 176 1040 96
WIRE 160 208 160 128
WIRE 160 352 160 288
FLAG 160 -48 0
FLAG 160 352 0
FLAG 1136 -288 0
FLAG 1040 176 0
FLAG 288 176 0
SYMBOL voltage 160 192 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value PULSE(0 3.3 1 0 0 0 1 10)
SYMBOL res 496 -224 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 33
SYMBOL res 608 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10
SYMBOL voltage 160 -192 R0
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 3.3
SYMBOL diode 688 96 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL voltage 1040 -208 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL res 1024 -160 R0
SYMATTR InstName R3
SYMATTR Value 280
SYMBOL res 560 -144 R0
SYMATTR InstName R4
SYMATTR Value 220
SYMBOL OpAmps\\UniversalOpamp2 288 112 R0
SYMATTR InstName U2
SYMBOL 6N137 816 48 R0
SYMATTR InstName U3
TEXT 128 376 Left 2 !.tran 0 10s 0
TEXT 768 -72 Left 2 !.include 6N137.lib
